<div class="card mt-2" *ngIf="item | async as userProfile">
    <div class="card-header">
        User Profile
    </div>
    <div class="card-body">
        <form #profileForm="ngForm" (submit)="onSubmit(profileForm)" [class.loading]="loading">
            <div class="alert alert-danger" *ngIf="error">
                <p>{{error}}</p>
            </div>
            <div class="form-row">
                <div class="col-md-3">
                    <div class="profile-image">
                        <div *ngIf="downloadUrl | async; let srcUrl">
                            <img alt="profile image" [src]="srcUrl">
                        </div>
                        <div *ngIf="!(downloadUrl | async)">
                            <img src="assets/profile-placeholder.png" alt="Profile Image">
                        </div>
                        <input type="file" class="file-input" #imgProfile (change)="profileImageChange($event)"
                            accept=".png, .jpg">
                            <div class="progress mt-1" style="width: 230px;">
                                <div class="progress-bar" role="progressbar" [style.width]="uploadProgress | async" [attr.aria-valuenow]="uploadProgress | async" aria-valuemin="0" aria-valuemax="100">{{uploadProgress | async}}</div>
                              </div>
                        <button class="btn btn-secondary mt-1" (click)="imgProfile.click()" style="width: 230px;">Upload
                            Photo</button>
                    </div>
                </div>
                <div class="col-md-9">
                    <div class="row">
                        <div class="col-md-6 form-group">
                            <label for="name">Name</label>
                            <input type="text" class="form-control" name="name" placeholder="Name"
                                [ngModel]="userProfile.name">
                        </div>
                        <div class="col-md-6 form-group">
                            <label for="email">Email</label>
                            <input type="email" class="form-control" name="email" placeholder="email"
                                [ngModel]="userProfile.email">
                        </div>
                    </div>

                    <div class="row">
                        <div class="form-group col-md-5">
                            <label for="address">Address</label>
                            <input type="text" class="form-control" name="address" placeholder="Address"
                                [ngModel]="userProfile.address">
                        </div>
                        <div class="form-group col-md-3">
                            <label for="city">City</label>
                            <input type="text" class="form-control" name="city" placeholder="City"
                                [ngModel]="userProfile.city">
                        </div>
                        <div class="form-group col-md-2">
                            <label for="state">State</label>
                            <input type="text" class="form-control" name="state" placeholder="State"
                                [ngModel]="userProfile.state">
                        </div>
                        <div class="form-group col-md-2">
                            <label for="zip">Zip</label>
                            <input type="text" class="form-control" name="zip" placeholder="Zip"
                                [ngModel]="userProfile.zip">
                        </div>
                    </div>

                    <div class="row">
                        <div class="form-group col-md-4">
                            <label for="phone">Phone</label>
                            <input type="text" class="form-control" name="phone" placeholder="Phone"
                                [ngModel]="userProfile.phone">
                        </div>
                        <div class="form-group col-md-4">
                            <label for="specialty">Specialty</label>
                            <select class="form-control" name="specialty" [ngModel]="userProfile.specialty">
                                <option value="field agent">Field Agent</option>
                                <option value="covert operations">Covert Operations</option>
                                <option value="intelligence officer">Intelligence Officer</option>
                            </select>
                        </div>
                        <div class="form-group col-md-4">
                            <label for="ip">IP</label>
                            <input type="text" class="form-control" name="ip" placeholder="IP"
                                [ngModel]="userProfile.ip">
                        </div>
                    </div>

                    <div class="row">
                        <div class="form-group col-md-4">
                            <button type="submit" class="btn btn-primary">Update</button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>